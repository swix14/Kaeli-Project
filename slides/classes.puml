@startuml
' Clases principales
class Usuario {
    idUsuario : int
    nombre : string
    correo : string
    password : string
    registrar() : void
    iniciarSesion() : void
    editarPerfil() : void
}

class Producto {
    idProducto : int
    nombre : string
    tipo : string
    envase : string
    marca : string
    buscar() : List<Producto>
    obtenerDetalles() : void
}

class Precio {
    idPrecio : int
    valor : float
    moneda : string
    fechaActualizacion : Date
    disponible : boolean
    actualizar() : void
}

class Supermercado {
    idSupermercado : int
    nombre : string
    sitioWeb : string
    obtenerProductos() : List<Producto>
}

class Carrito {
    idCarrito : int
    total : float
    agregarProducto(producto: Producto) : void
    calcularTotal() : float
}

class Resena {
    idResena : int
    comentario : string
    votosUtiles : int
    fecha : Date
    votar() : void
}

class ListaDeseos {
    idLista : int
    nombreLista : string
    agregar(producto: Producto) : void
    eliminar(producto: Producto) : void
}

class Oferta {
    idOferta : int
    descuento : float
    fechaInicio : Date
    fechaFin : Date
    aplicarDescuento(precio: float) : float
}

class ScrapingService {
    ultimaActualizacion : Date
    extraerPrecios() : List<Precio>
    extraerOfertas() : List<Oferta>
}

class AsistenteIA {
    idAsistente : int
    nombre : string
    recomendar(usuario: Usuario) : List<Producto>
    responderPregunta(consulta: string) : string
}

class Administrador {
    idAdmin : int
    nombre : string
    gestionarUsuarios() : void
    gestionarProductos() : void
    gestionarResenas() : void
}

' Relaciones
Usuario "1" -- "0..1" Carrito
Usuario "1" -- "0..*" ListaDeseos
Usuario "1" -- "0..*" Resena

Producto "1" -- "1..*" Precio
Producto "0..*" -- "0..*" Supermercado
Producto "0..*" -- "0..1" Oferta

Carrito "1" -- "1..*" Producto

ListaDeseos "1" -- "0..*" Producto

Resena "0..*" -- "1" Producto

Precio "1..*" -- "1" Supermercado

ScrapingService ..> Supermercado : extrae
ScrapingService ..> Precio : actualiza

AsistenteIA ..> Usuario : asiste
AsistenteIA ..> Producto : recomienda

Administrador ..> Usuario : gestiona
Administrador ..> Producto : gestiona
Administrador ..> Resena : modera
@enduml
